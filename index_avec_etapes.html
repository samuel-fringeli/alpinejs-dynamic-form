<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Formulaire dynamique</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/uikit@3.16.13/dist/css/uikit.min.css" />
    <script src="https://www.google.com/recaptcha/api.js?render=YOUR_RECAPTCHA_SITE_KEY"></script>
</head>

<body>
<div class="uk-container">
    <form class="uk-form-stacked" x-data="{ containerMembrePartenaireSponsor: 'membre', etape: 1, nombreEtapes: 3 }">
        <div class="uk-text-lead uk-margin-top">Formulaire "Frontpage" - étape <span x-text="etape"></span></div>
        <div x-show="etape === 1">
            <div class="uk-margin">
                <!-- besoin que le label ait automatiquement une étoile si input required ? -->
                <label class="uk-form-label">Organisation</label>
                <div class="uk-form-controls">
                    <input class="uk-input" type="text" placeholder="Association ABC" name="organisation"/>
                </div>
            </div>
            <div class="uk-grid-small uk-child-width-1-3@m uk-child-width-1-2@s" uk-grid>
                <div>
                    <div class="uk-margin">
                        <label class="uk-form-label">Titre</label>
                        <div class="uk-form-controls">
                            <select class="uk-select">
                                <option value="monsieur">Monsieur</option>
                                <option value="madame">Madame</option>
                            </select>
                        </div>
                    </div>
                </div>
                <div>
                    <div class="uk-margin">
                        <label class="uk-form-label">Prénom *</label>
                        <div class="uk-form-controls">
                            <input class="uk-input" type="text" name="prenom" required/>
                        </div>
                    </div>
                </div>
                <div>
                    <div class="uk-margin">
                        <label class="uk-form-label">Nom *</label>
                        <div class="uk-form-controls">
                            <input class="uk-input" type="text" name="nom" required/>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div x-show="etape === 2">
            <div class="uk-grid-small uk-child-width-1-2@s" uk-grid>
                <div>
                    <div class="uk-margin">
                        <label class="uk-form-label">Téléphone</label>
                        <div class="uk-form-controls">
                            <input class="uk-input" type="tel" name="telephone"/>
                        </div>
                    </div>
                </div>
                <div>
                    <div class="uk-margin">
                        <label class="uk-form-label">Email</label>
                        <div class="uk-form-controls">
                            <input class="uk-input" type="email" name="email"/>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div x-show="etape === 3">
            <div class="uk-margin">
                <div class="uk-form-label">Que désirez-vous (select) *</div>
                <div class="uk-form-controls">
                    <select class="uk-select" x-model="containerMembrePartenaireSponsor">
                        <option value="membre">Devenir membre</option>
                        <option value="sponsor">Devenir sponsor</option>
                        <option value="partenaire">Devenir partenaire</option>
                    </select>
                </div>
            </div>
            <div class="uk-margin">
                <div class="uk-form-label">Que désirez-vous (radio) *</div>
                <div class="uk-form-controls">
                    <label><input class="uk-radio" type="radio" name="type" value="membre" x-model="containerMembrePartenaireSponsor" checked> Devenir membre</label><br>
                    <label><input class="uk-radio" type="radio" name="type" value="sponsor" x-model="containerMembrePartenaireSponsor"> Devenir sponsor</label><br>
                    <label><input class="uk-radio" type="radio" name="type" value="partenaire" x-model="containerMembrePartenaireSponsor"> Devenir partenaire</label><br>
                </div>
            </div>
            <div class="uk-margin" x-show="containerMembrePartenaireSponsor === 'membre'">
                <div class="uk-form-label">Quelle est votre préférence de règlement de cotisation *</div>
                <div class="uk-form-controls">
                    <label><input class="uk-radio" type="radio" name="type_membre" value="mensuelle" checked> Mensuelle <span class="uk-text-lighter">(15.- par mois)</span></label><br>
                    <label><input class="uk-radio" type="radio" name="type_membre" value="annuelle"> Annuelle <span class="uk-text-lighter">(120.- par an)</span></label><br>
                </div>
            </div>
            <div class="uk-margin" x-show="containerMembrePartenaireSponsor === 'sponsor'">
                <div class="uk-form-label">Quelle est votre préférence de règlement de cotisation *</div>
                <div class="uk-form-controls">
                    <label><input class="uk-radio" type="radio" name="type_sponsor" value="mensuelle" checked> Mensuelle <span class="uk-text-lighter">(25.- par mois)</span></label><br>
                    <label><input class="uk-radio" type="radio" name="type_sponsor" value="annuelle"> Annuelle <span class="uk-text-lighter">(250.- par an)</span></label><br>
                </div>
            </div>
            <div class="uk-margin" x-show="containerMembrePartenaireSponsor === 'partenaire'">
                <div class="uk-form-label">Quelle est votre préférence de règlement de cotisation *</div>
                <div class="uk-form-controls">
                    <label><input class="uk-radio" type="radio" name="type_partenaire" value="mensuelle" checked> Mensuelle <span class="uk-text-lighter">(50.- par mois)</span></label><br>
                    <label><input class="uk-radio" type="radio" name="type_partenaire" value="annuelle"> Annuelle <span class="uk-text-lighter">(500.- par an)</span></label><br>
                </div>
            </div>
            <button class="uk-button uk-button-primary uk-margin-bottom" type="button" onclick="onSubmitForm()">Envoyer</button>
        </div>
        <div class="uk-margin">
            <button class="uk-button uk-button-primary uk-margin-bottom" type="button" x-show="etape > 1" @click="etape = etape - 1">Précédent</button>
            <button class="uk-button uk-button-primary uk-margin-bottom" type="button" x-show="etape < nombreEtapes" @click="etape = etape + 1">Suivant</button>
        </div>
    </form>
</div>
<script src="https://unpkg.com/alpinejs" defer></script>
<script src="https://cdn.jsdelivr.net/npm/uikit@3.16.13/dist/js/uikit.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/uikit@3.16.13/dist/js/uikit-icons.min.js"></script>
<script>
    function onSubmitForm() {
        grecaptcha.ready(function () {
            grecaptcha.execute('YOUR_RECAPTCHA_SITE_KEY', { action: 'submit' }).then(function (token) {
                // Add the token as a hidden input field to the form
                const input = document.createElement('input');
                input.type = 'hidden';
                input.name = 'g-recaptcha-response';
                input.value = token;
                document.querySelector('form').appendChild(input);

                // Submit the form
                document.querySelector('form').submit();
            });
        });
    }
</script>
</body>
</html>
